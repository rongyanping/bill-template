const { getOperationData } = require('../../utils');

const detailData = {
  message: '查询成功',
  data: {},
  code: 100,
};

const detailData2 = {
  code: 100,
  data: {
    id: 88888,
    tradeId: null,
    deliveryType: 1,
    saleAmount: 12.0,
    shopActualAmount: 12.01,
    tableInfo: '桌台006/大厅区',
    tradeType: 1,
    tradeTypeName: '售货单',
    tradeNo: '101170904170216754001231',
    sourceChild: 1,
    receiverPhone: null,
    receiverName: null,
    receiverSex: null,
    receivedTime: null,
    invoiceTitle: null,
    deliveryAddress: null,
    commercialName: '4414onmind测试2gld810001991',
    createtime: '2017-09-04 17:02:17',
    paymentTime: '2017-09-04 17:02:56',
    updatetime: '2017-09-04 17:02:56',
    deliveryFee: 0,
    creatorName: 'yulia',
    casherName: 'yulia',
    updatorName: 'yulia',
    tradeStatus: 4,
    tradePayStatus: 3,
    tradePayStatusName: '已支付',
    tradePayForm: 1,
    deliveryStatus: 0,
    deliveryStatusName: null,
    expectTime: null,
    deliveryMan: null,
    deliveryTime: null,
    squareupTime: null,
    deliveryPhone: null,
    tradeMemo: null,
    shopId: 810001991,
    brandId: 4414,
    brandName: '4414',
    deliveryPlatform: 1,
    depositPay: 0,
    depositRefund: 0,
    terminalNo: '1231',
    peopleCnt: 4,
    overFlowAmt: 0,
    pRefundDeposit: null,
    reasonInfo: null,
    depositReason: null,
    sourceName: 'Android收银终端',
    deliveryTypeName: '内用',
    tradeStatusName: '已完成',
    deliveryPlatformName: null,
    dishList: [
      {
        type: 0,
        dishCode: '111111',
        dishName: '黄瓜茄子玉米',
        dishMemo: null,
        dishCookingWay: [],
        dishCookingWayName: null,
        dishProperty: [
          {
            type: 444,
            dishCode: null,
            dishName: null,
            dishMemo: null,
            dishCookingWay: null,
            dishCookingWayName: null,
            dishProperty: null,
            dishPropertyName: '半只123',
            price: null,
            quantity: null,
            unitName: null,
            amount: null,
            amountJin: null,
            childNode: null,
          },
        ],
        dishPropertyName: null,
        price: 12.0,
        quantity: 1.0,
        unitName: '杯',
        amount: 12.0,
        amountJin: null,
        childNode: [],
      },
    ],
    dishTotalAmount: 12.0,
    dishTotalQuantity: 1.0,
    privilegesList: [],
    grouponInfoMap: [],
    thirdAfterPay: 0,
    privilegesTotal: 0,
    extraChargeMap: [],
    extraChargeTotal: 0,
    paymentItemList: [
      {
        payModeId: -5,
        payChannelName: '民生银行',
        paySourceName: 'Cashier',
        payEndTime: '2017-09-04 17:02:56',
        payTranNo: null,
        paymentItemId: 183105695,
        pay_source: 1,
        shopActualAmount: 0.01,
        payTypeName: '主扫',
        custActualPay: 0.01,
        brandIdenty: 4414,
        pay_status: 3,
        shopIdenty: 810001991,
        isRefund: true,
        name: '微信',
        pay_model_group: 1,
        pay_channel: 15,
        payStartTime: '2017-09-04 17:02:59',
        usefulAmount: 0.01,
        pay_type: 2,
        payStatus: 3,
        tradeId: 178989378,
      },
    ],
    thirdPartList: null,
    tradeOverFlow: 0.0,
    shopShouldAmt: 12.0,
    custActualPay: 12.01,
    custShouldPay: 12.0,
    molinAmount: 0.0,
    payTranNo: null,
    cashierBusinessNo: 'CPRG31020622',
    depositTotal: 0,
    refundFlag: 1,
    tradeLoglist: [
      {
        id: 293173305,
        optTypeName: '开台',
        optTypeCode: 'createOrder',
        businessTime: '2017-09-04 17:02:18',
        batchNumber: null,
        businessId: 178989378,
        tradeNo: null,
        optName: 'yulia',
        deviceNumber: null,
        tradeUuid: '0b4e1e1a62c8403c9b596889f43c512e',
        clientUpdateTime: null,
        snapshotReports: [
          {
            id: 549840818,
            orderLogId: 293173305,
            ruleType: 1,
            ruleId: 101,
            businessType: 0,
            businessTime: '2017-09-04 17:02:18',
            businessId: null,
            fieldFlag: 'tradeTables.tableName',
            fieldTitle: '桌台名称',
            preFieldValue: null,
            fieldValue: '桌台006',
            fieldStatus: '展示',
            tradeNo: null,
          },
          {
            id: 549840819,
            orderLogId: 293173305,
            ruleType: 1,
            ruleId: 102,
            businessType: 0,
            businessTime: '2017-09-04 17:02:18',
            businessId: null,
            fieldFlag: 'tradeTables.tablePeopleCount',
            fieldTitle: '就餐人数',
            preFieldValue: null,
            fieldValue: '4',
            fieldStatus: '展示',
            tradeNo: null,
          },
          {
            id: 549840820,
            orderLogId: 293173305,
            ruleType: 1,
            ruleId: 137,
            businessType: 0,
            businessTime: '2017-09-04 17:02:18',
            businessId: null,
            fieldFlag: 'tradeItems.dishChange',
            fieldTitle: '',
            preFieldValue: '',
            fieldValue: '',
            fieldStatus: '展示',
            tradeNo: null,
          },
        ],
        uuid: null,
        tradeId: null,
        orderType: null,
        authType: null,
        authTypeDesc: null,
        authTime: null,
        authUserId: null,
        authUserName: null,
        authContent: null,
        statusFlag: null,
        shopIdenty: null,
        brandIdenty: null,
        businessTimeStr: '2017-09-04 17:02:18',
      },
    ],
    deviceIdenty: '08:00:27:f7:11:4d',
    businessType: 2,
    businessTypeName: '正餐',
    tradeAmount: 12.0,
    relateTradeId: null,
    relateTradeNo: null,
    thirdServiceCharge: 0.0,
    thirdSubsidies: 0.0,
    thirdBeforePay: 0.0,
    customerName: null,
    customerPhone: null,
    tradeCustomerVo: [],
  },
  message: '查询成功',
};

const queryData = {
  data: {
    currentPage: 1,
    pageSize: 20,
    totalRows: 64,
    startRow: 0,
    totalPage: 4,
    items: [
      {
        id: 39079514,
        bizDate: '2017-08-10',
        tradeNo: '101170810155656392069113',
        tableInfo: null,
        areaName: null,
        areaTable: null,
        pepoleCount: null,
        deliveryTypeName: '内用',
        deliveryType: 1,
        waiterName: null,
        casherName: 'admin',
        saleAmount: 43.0,
        sourceChild: 1,
        sourceChildName: 'Android收银终端',
        source: 10,
        sourceName: '商户收银终端',
        tradePayStatus: 3,
        tradePayStatusName: '已支付',
        deliveryStatus: 0,
        deliveryStatusName: '',
        tradeStatus: 4,
        tradeStatusName: '已完成',
        cashierBusinessNo: null,
        payTranNo: null,
        privilegeAmount: -1.5,
        prePayAmount: 0.0,
        custShouldPay: 41.5,
        custRealPay: 41.5,
        decreaseOverflow: 0.0,
        refundAmount: 0.0,
        depositAmount: 10.0,
        refundDeposit: 0,
        receivableAmount: 41.5,
        tradeAmountBefore: 41.5,
        receivedAmount: 41.5,
        additionalAmount: 3.0,
        thirdPartAmount: null,
        shopName: '方方门店①',
        cashDeviceNo: '69113',
        granderName: null,
        tradeType: 4,
        tradeTypeName: '反结账单',
        customerName: null,
        customerSex: null,
        customerPhone: null,
        pRefundDeposit: null,
        serverCreateTime: '2017-08-10 16:00:21',
        paymentTime: '2017-08-10 16:00:51',
        deliveryFee: 0,
        deliveryPlatform: 1,
        deliveryAddress: '',
        deliveryPlatformName: '',
        payName: '现金',
        payModeId: -3,
        paymentType: null,
      },
    ],
    subRows: null,
    brandId: 11476,
    startDate: '2017-08-01 00:00:00',
    endDate: '2017-08-11 23:59:59',
    timeType: 1,
    orderDateType: 1,
    tradeStatus: '4,11,12',
    deliveryType: '4,1,2,3,15',
    sourceChild: '',
    source: null,
    tradeType: null,
    nameOrMobile: '',
    erpModeId: '',
    sort: 2,
    commercialIds: [810015597, 810015598, 850015837],
    startId: null,
    businessType: null,
    operator: '',
    scList: null,
  },
  code: '200',
  success: true,
};

queryData.records = 100;

const router = {
  query: {
    method: 'GET',
    path: '/mind/bui/tradeManage/query',
    container: queryData,
  },
  queryDetail: {
    method: 'GET',
    path: '/mind/bui/tradeManage/tradeDetail',
    container: {
      code: '200',
      success: true,
      data(params, query, body) {
        console.log(params, query, body);
        if (query.id !== '88888') {
          return detailData.data;
        }
        return detailData2.data;
      },
    },
  },
  validate: {
    method: 'POST',
    path: '/mind/bui/tradeManage/validate',
    container: getOperationData(),
  },
  refund: {
    method: 'POST',
    path: '/mind/bui/tradeManage/refund',
    container: getOperationData(),
  },
  changeStatusById: {
    method: 'POST',
    path: '/mind/bui/tradeManage/changeStatusById',
    container: getOperationData(),
  },
};
module.exports = router;
